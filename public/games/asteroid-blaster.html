<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  
  <!-- Primary Meta Tags -->
  <title>Asteroid Blaster - Classic Space Shooter | Andy's Epic Gaming Zone</title>
  <meta name='title' content='Asteroid Blaster - Classic Space Shooter'>
  <meta name='description' content='Navigate through space and destroy asteroids in this classic arcade shooter! Pilot your ship through dangerous asteroid fields.'>
  <meta name='keywords' content='asteroid blaster, space shooter, asteroids game, classic arcade, space game, retro shooter'>
  <meta name='robots' content='index, follow'>
  <meta name='language' content='English'>
  <meta name='author' content='Andy Fitzgerald'>
  
  <!-- Open Graph / Facebook -->
  <meta property='og:type' content='website'>
  <meta property='og:url' content='https://andy-fitzgerald.com/games/asteroid-blaster.html'>
  <meta property='og:title' content='Asteroid Blaster - Classic Space Shooter'>
  <meta property='og:description' content='Navigate through space and destroy asteroids in this classic arcade shooter! Pilot your ship through dangerous asteroid fields.'>
  <meta property='og:image' content='https://andy-fitzgerald.com/images/andy_my529.png'>
  <meta property='og:site_name' content='Andy\'s Epic Gaming Zone'>
  
  <!-- Twitter -->
  <meta property='twitter:card' content='summary_large_image'>
  <meta property='twitter:url' content='https://andy-fitzgerald.com/games/asteroid-blaster.html'>
  <meta property='twitter:title' content='Asteroid Blaster - Classic Space Shooter'>
  <meta property='twitter:description' content='Navigate through space and destroy asteroids in this classic arcade shooter! Pilot your ship through dangerous asteroid fields.'>
  <meta property='twitter:image' content='https://andy-fitzgerald.com/images/andy_my529.png'>
  
  <!-- Favicon -->
  <link rel='icon' type='image/png' href='/favicon.png'>
  <link rel='apple-touch-icon' href='/favicon.png'>
  
  <!-- Canonical URL -->
  <link rel='canonical' href='https://andy-fitzgerald.com/games/asteroid-blaster.html'>
  
  <!-- Stylesheets -->
  <link rel='stylesheet' href='../css/styles.css'>
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Game",
    "name": "Asteroid Blaster",
    "description": "Navigate through space and destroy asteroids in this classic arcade shooter! Pilot your ship through dangerous asteroid fields.",
    "url": "https://andy-fitzgerald.com/games/asteroid-blaster.html",
    "genre": "Arcade",
    "gamePlatform": "Web Browser",
    "operatingSystem": "Any",
    "applicationCategory": "Game",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "author": {
      "@type": "Person",
      "name": "Andy Fitzgerald"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Andy's Epic Gaming Zone",
      "url": "https://andy-fitzgerald.com"
    },
    "isPartOf": {
      "@type": "WebSite",
      "name": "Andy's Epic Gaming Zone",
      "url": "https://andy-fitzgerald.com"
    }
  }
  </script>
</head>
<body>
  <a href="../index.html" class="back-button">🏠 Back to Gaming Zone</a>
  
  <div class="game-header">
    <h1>🚀 ASTEROID BLASTER 🚀</h1>
  </div>
  
  <div class="main-wrapper">
    <!-- Left Sidebar -->
    <div class="sidebar">
      <img src="../images/andy_my529.png" alt="Andy's 529 Plan" class="sidebar-image">
      <a href="https://gift.my529.org/LPXR40" target="_blank" class="donate-link">Donate to Andy</a>
    </div>
    
    <div class="game-container">
      
      <div class="game-info">
        <div class="info-item score">
          SCORE: <span id="score">0</span>
        </div>
        <div class="info-item lives">
          LIVES: <span id="lives">3</span>
        </div>
        <div class="info-item wave">
          WAVE: <span id="wave">1</span>
        </div>
        <div class="info-item asteroids">
          ROCKS: <span id="asteroids">0</span>
        </div>
      </div>
      
      <canvas id="gameCanvas" class="game-canvas" width="600" height="600"></canvas>
      
      <div class="controls">
        <button class="game-button" onclick="startGame()">🎮 START GAME</button>
        <button class="game-button" onclick="pauseGame()">⏸️ PAUSE</button>
        <button class="game-button" onclick="resetGame()">🔄 RESET</button>
        <button class="game-button" onclick="showLeaderboard()">🏆 LEADERBOARD</button>
      </div>
      
      <div class="instructions">
        <h3>🚀 HOW TO PLAY</h3>
        <p><strong>🎯 Objective:</strong> Destroy all asteroids while avoiding collisions!</p>
        <p><strong>🎮 Controls:</strong> ARROW KEYS to rotate and thrust, SPACEBAR to shoot</p>
        <p><strong>💥 Asteroids:</strong> Large rocks split into smaller ones when shot</p>
        <p><strong>🌟 Power-ups:</strong> Collect special items for enhanced abilities</p>
        <p><strong>🏆 Scoring:</strong> Large (20pts), Medium (50pts), Small (100pts)</p>
      </div>
    </div>
    
    <!-- Right Sidebar -->
    <div class="sidebar">
      <img src="../images/andy_my529.png" alt="Andy's 529 Plan" class="sidebar-image">
      <a href="https://gift.my529.org/LPXR40" target="_blank" class="donate-link">Donate to Andy</a>
    </div>
  </div>

  <div class="game-start" id="gameStart">
    <h2>🚀 ASTEROID BLASTER 🚀</h2>
    <p>Navigate through space and destroy asteroids!</p>
    <p>Survive the cosmic storm!</p>
    <button class="game-button" onclick="startGame()">🎮 BLAST OFF!</button>
  </div>

  <div class="game-over" id="gameOver" style="display: none;">
    <h2>💥 GAME OVER! 💥</h2>
    <p id="gameOverText">Your ship was destroyed!</p>
    <p>Final Score: <span id="finalScore">0</span></p>
    <p>Wave Reached: <span id="finalWave">1</span></p>
    <button class="game-button" onclick="resetGame()">🔄 TRY AGAIN</button>
  </div>

  <!-- Leaderboard Modal -->
  <div class="leaderboard" id="leaderboard">
    <h2>🏆 ASTEROID BLASTER LEADERBOARD 🏆</h2>
    <div class="leaderboard-list" id="leaderboardList">
      <!-- Leaderboard entries will be populated here -->
    </div>
    <button class="game-button" onclick="hideLeaderboard()">✖️ CLOSE</button>
  </div>

  <!-- High Score Input Modal -->
  <div class="high-score-input" id="highScoreInput" style="display: none;">
    <h2>🏆 NEW HIGH SCORE! 🏆</h2>
    <p>Congratulations! You made it to the leaderboard!</p>
    <p>Score: <span id="newHighScore">0</span> | Wave: <span id="newHighWave">1</span></p>
    <input type="text" id="playerName" placeholder="Enter your name" maxlength="15" style="padding: 0.5rem; margin: 1rem; border-radius: 5px; border: 1px solid #4ecdc4; background: rgba(0,0,0,0.8); color: white; text-align: center;">
    <br>
    <button class="game-button" onclick="submitScore()">🏆 SUBMIT SCORE</button>
  </div>

  <script>
    // Game variables
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    
    let gameState = 'start';
    let score = 0;
    let lives = 3;
    let wave = 1;
    let gameLoop = null;
    
    // Game objects
    let ship = {
      x: canvas.width / 2,
      y: canvas.height / 2,
      angle: 0,
      thrust: 0,
      velX: 0,
      velY: 0,
      size: 8,
      invulnerable: false,
      invulnerableTime: 0
    };
    
    let bullets = [];
    let asteroids = [];
    let powerUps = [];
    let particles = [];
    
    // Game constants
    const SHIP_THRUST = 0.3;
    const SHIP_FRICTION = 0.98;
    const BULLET_SPEED = 8;
    const BULLET_LIFE = 60;
    
    function initGame() {
      ship.x = canvas.width / 2;
      ship.y = canvas.height / 2;
      ship.angle = 0;
      ship.thrust = 0;
      ship.velX = 0;
      ship.velY = 0;
      ship.invulnerable = false;
      ship.invulnerableTime = 0;
      
      bullets = [];
      asteroids = [];
      powerUps = [];
      particles = [];
      
      createAsteroids();
      updateUI();
    }
    
    function createAsteroids() {
      asteroids = [];
      const asteroidCount = 4 + wave;
      
      for (let i = 0; i < asteroidCount; i++) {
        let x, y;
        do {
          x = Math.random() * canvas.width;
          y = Math.random() * canvas.height;
        } while (distance(x, y, ship.x, ship.y) < 100);
        
        asteroids.push({
          x: x,
          y: y,
          velX: (Math.random() - 0.5) * 2,
          velY: (Math.random() - 0.5) * 2,
          size: 'large',
          radius: 40,
          angle: Math.random() * Math.PI * 2,
          rotSpeed: (Math.random() - 0.5) * 0.1
        });
      }
    }
    
    function distance(x1, y1, x2, y2) {
      return Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);
    }
    
    function wrapPosition(obj) {
      if (obj.x < 0) obj.x = canvas.width;
      if (obj.x > canvas.width) obj.x = 0;
      if (obj.y < 0) obj.y = canvas.height;
      if (obj.y > canvas.height) obj.y = 0;
    }
    
    function updateShip() {
      // Check invulnerability timer
      if (ship.invulnerable && Date.now() > ship.invulnerableTime) {
        ship.invulnerable = false;
      }
      
      // Apply thrust
      if (ship.thrust > 0) {
        ship.velX += Math.cos(ship.angle) * SHIP_THRUST;
        ship.velY += Math.sin(ship.angle) * SHIP_THRUST;
      }
      
      // Apply friction
      ship.velX *= SHIP_FRICTION;
      ship.velY *= SHIP_FRICTION;
      
      // Update position
      ship.x += ship.velX;
      ship.y += ship.velY;
      
      // Wrap around screen
      wrapPosition(ship);
    }
    
    function updateBullets() {
      bullets = bullets.filter(bullet => {
        bullet.x += bullet.velX;
        bullet.y += bullet.velY;
        bullet.life--;
        
        wrapPosition(bullet);
        
        return bullet.life > 0;
      });
    }
    
    function updateAsteroids() {
      asteroids.forEach(asteroid => {
        asteroid.x += asteroid.velX;
        asteroid.y += asteroid.velY;
        asteroid.angle += asteroid.rotSpeed;
        
        wrapPosition(asteroid);
      });
    }
    
    function updateParticles() {
      particles = particles.filter(particle => {
        particle.x += particle.velX;
        particle.y += particle.velY;
        particle.life--;
        particle.alpha = particle.life / particle.maxLife;
        
        return particle.life > 0;
      });
    }
    
    function createExplosion(x, y, count = 8) {
      for (let i = 0; i < count; i++) {
        const angle = (Math.PI * 2 * i) / count;
        const speed = Math.random() * 3 + 1;
        
        particles.push({
          x: x,
          y: y,
          velX: Math.cos(angle) * speed,
          velY: Math.sin(angle) * speed,
          life: 30,
          maxLife: 30,
          alpha: 1,
          color: '#ffaa00'
        });
      }
    }
    
    function checkCollisions() {
      // Bullet-asteroid collisions
      bullets.forEach((bullet, bulletIndex) => {
        asteroids.forEach((asteroid, asteroidIndex) => {
          if (distance(bullet.x, bullet.y, asteroid.x, asteroid.y) < asteroid.radius) {
            // Remove bullet
            bullets.splice(bulletIndex, 1);
            
            // Create explosion
            createExplosion(asteroid.x, asteroid.y);
            
            // Score points
            if (asteroid.size === 'large') {
              score += 20;
            } else if (asteroid.size === 'medium') {
              score += 50;
            } else {
              score += 100;
            }
            
            // Split asteroid
            if (asteroid.size === 'large') {
              for (let i = 0; i < 2; i++) {
                asteroids.push({
                  x: asteroid.x,
                  y: asteroid.y,
                  velX: (Math.random() - 0.5) * 3,
                  velY: (Math.random() - 0.5) * 3,
                  size: 'medium',
                  radius: 25,
                  angle: Math.random() * Math.PI * 2,
                  rotSpeed: (Math.random() - 0.5) * 0.15
                });
              }
            } else if (asteroid.size === 'medium') {
              for (let i = 0; i < 2; i++) {
                asteroids.push({
                  x: asteroid.x,
                  y: asteroid.y,
                  velX: (Math.random() - 0.5) * 4,
                  velY: (Math.random() - 0.5) * 4,
                  size: 'small',
                  radius: 12,
                  angle: Math.random() * Math.PI * 2,
                  rotSpeed: (Math.random() - 0.5) * 0.2
                });
              }
            }
            
            // Remove original asteroid
            asteroids.splice(asteroidIndex, 1);
          }
        });
      });
      
      // Ship-asteroid collisions (only if not invulnerable)
      if (!ship.invulnerable) {
        asteroids.forEach(asteroid => {
          if (distance(ship.x, ship.y, asteroid.x, asteroid.y) < asteroid.radius + ship.size) {
            lives--;
            createExplosion(ship.x, ship.y, 12);
            
            // Make ship invulnerable for 2 seconds
            ship.invulnerable = true;
            ship.invulnerableTime = Date.now() + 2000;
            
            if (lives <= 0) {
              gameOver();
            } else {
              // Reset ship position
              ship.x = canvas.width / 2;
              ship.y = canvas.height / 2;
              ship.velX = 0;
              ship.velY = 0;
            }
          }
        });
      }
      
      // Check if wave complete
      if (asteroids.length === 0) {
        wave++;
        score += 1000; // Wave completion bonus
        createAsteroids();
      }
    }
    
    function drawShip() {
      ctx.save();
      ctx.translate(ship.x, ship.y);
      ctx.rotate(ship.angle);
      
      // Flash when invulnerable
      if (ship.invulnerable && Math.floor(Date.now() / 200) % 2 === 0) {
        ctx.strokeStyle = '#ffffff';
      } else {
        ctx.strokeStyle = '#4ecdc4';
      }
      
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(ship.size, 0);
      ctx.lineTo(-ship.size, -ship.size / 2);
      ctx.lineTo(-ship.size / 2, 0);
      ctx.lineTo(-ship.size, ship.size / 2);
      ctx.closePath();
      ctx.stroke();
      
      // Thrust flame
      if (ship.thrust > 0) {
        ctx.strokeStyle = '#ff6b6b';
        ctx.beginPath();
        ctx.moveTo(-ship.size, -3);
        ctx.lineTo(-ship.size - 8, 0);
        ctx.lineTo(-ship.size, 3);
        ctx.stroke();
      }
      
      ctx.restore();
    }
    
    function drawBullets() {
      ctx.fillStyle = '#ffeb3b';
      bullets.forEach(bullet => {
        ctx.beginPath();
        ctx.arc(bullet.x, bullet.y, 2, 0, Math.PI * 2);
        ctx.fill();
      });
    }
    
    function drawAsteroids() {
      ctx.strokeStyle = '#96ceb4';
      ctx.lineWidth = 2;
      
      asteroids.forEach(asteroid => {
        ctx.save();
        ctx.translate(asteroid.x, asteroid.y);
        ctx.rotate(asteroid.angle);
        
        ctx.beginPath();
        const points = 8;
        for (let i = 0; i < points; i++) {
          const angle = (Math.PI * 2 * i) / points;
          const radius = asteroid.radius + Math.sin(angle * 3) * 5;
          const x = Math.cos(angle) * radius;
          const y = Math.sin(angle) * radius;
          
          if (i === 0) {
            ctx.moveTo(x, y);
          } else {
            ctx.lineTo(x, y);
          }
        }
        ctx.closePath();
        ctx.stroke();
        
        ctx.restore();
      });
    }
    
    function drawParticles() {
      particles.forEach(particle => {
        ctx.save();
        ctx.globalAlpha = particle.alpha;
        ctx.fillStyle = particle.color;
        ctx.beginPath();
        ctx.arc(particle.x, particle.y, 2, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      });
    }
    
    function draw() {
      // Clear canvas
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      // Draw stars background
      ctx.fillStyle = '#ffffff';
      for (let i = 0; i < 50; i++) {
        const x = (i * 137.5) % canvas.width;
        const y = (i * 73.3) % canvas.height;
        ctx.fillRect(x, y, 1, 1);
      }
      
      drawShip();
      drawBullets();
      drawAsteroids();
      drawParticles();
    }
    
    function updateUI() {
      document.getElementById('score').textContent = score;
      document.getElementById('lives').textContent = lives;
      document.getElementById('wave').textContent = wave;
      document.getElementById('asteroids').textContent = asteroids.length;
    }
    
    function startGame() {
      gameState = 'playing';
      document.getElementById('gameStart').style.display = 'none';
      document.getElementById('gameOver').style.display = 'none';
      
      if (gameLoop) clearInterval(gameLoop);
      gameLoop = setInterval(() => {
        if (gameState === 'playing') {
          updateShip();
          updateBullets();
          updateAsteroids();
          updateParticles();
          checkCollisions();
          draw();
          updateUI();
        }
      }, 16); // ~60 FPS
    }
    
    function pauseGame() {
      if (gameState === 'playing') {
        gameState = 'paused';
      } else if (gameState === 'paused') {
        gameState = 'playing';
      }
    }
    
    function resetGame() {
      gameState = 'start';
      if (gameLoop) clearInterval(gameLoop);
      score = 0;
      lives = 3;
      wave = 1;
      initGame();
      draw();
      document.getElementById('gameStart').style.display = 'block';
      document.getElementById('gameOver').style.display = 'none';
      document.getElementById('highScoreInput').style.display = 'none';
    }
    
    function gameOver() {
      gameState = 'gameOver';
      if (gameLoop) clearInterval(gameLoop);
      
      // Check if score qualifies for leaderboard
      if (isHighScore(score)) {
        document.getElementById('newHighScore').textContent = score;
        document.getElementById('newHighWave').textContent = wave;
        document.getElementById('playerName').value = '';
        document.getElementById('highScoreInput').style.display = 'block';
      } else {
        document.getElementById('finalScore').textContent = score;
        document.getElementById('finalWave').textContent = wave;
        document.getElementById('gameOver').style.display = 'block';
      }
    }
    
    // Controls
    const keys = {};
    
    document.addEventListener('keydown', (e) => {
      keys[e.key] = true;
      
      if (gameState === 'playing') {
        if (e.key === ' ') {
          // Shoot
          bullets.push({
            x: ship.x + Math.cos(ship.angle) * ship.size,
            y: ship.y + Math.sin(ship.angle) * ship.size,
            velX: Math.cos(ship.angle) * BULLET_SPEED,
            velY: Math.sin(ship.angle) * BULLET_SPEED,
            life: BULLET_LIFE
          });
          e.preventDefault();
        }
        
        // Prevent default behavior for arrow keys during gameplay
        if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === 'ArrowUp' || e.key === 'ArrowDown') {
          e.preventDefault();
        }
      }
    });
    
    document.addEventListener('keyup', (e) => {
      keys[e.key] = false;
      
      // Prevent default behavior for arrow keys
      if (gameState === 'playing') {
        if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === 'ArrowUp' || e.key === 'ArrowDown') {
          e.preventDefault();
        }
      }
    });
    
    // Continuous key handling
    setInterval(() => {
      if (gameState === 'playing') {
        if (keys['ArrowLeft']) {
          ship.angle -= 0.1;
        }
        if (keys['ArrowRight']) {
          ship.angle += 0.1;
        }
        if (keys['ArrowUp']) {
          ship.thrust = 1;
        } else {
          ship.thrust = 0;
        }
      }
    }, 16);
    
    // Leaderboard system
    let leaderboard = [];
    let newScoreIndex = -1;
    
    // Leaderboard functions
    function loadLeaderboard() {
      const saved = localStorage.getItem('asteroidBlasterLeaderboard');
      if (saved) {
        leaderboard = JSON.parse(saved);
      } else {
        // Initialize with default scores
        leaderboard = [
          {name: 'SPACE ACE', score: 15000, wave: 8},
          {name: 'ASTEROID HUNTER', score: 12000, wave: 7},
          {name: 'COSMIC WARRIOR', score: 10000, wave: 6},
          {name: 'STAR PILOT', score: 8500, wave: 5},
          {name: 'ROCKET MASTER', score: 7000, wave: 5},
          {name: 'GALAXY DEFENDER', score: 5500, wave: 4},
          {name: 'SPACE CADET', score: 4000, wave: 3},
          {name: 'METEOR BLASTER', score: 3000, wave: 3},
          {name: 'NOVA ROOKIE', score: 2000, wave: 2},
          {name: 'COSMIC NEWBIE', score: 1000, wave: 1}
        ];
        saveLeaderboard();
      }
    }
    
    function saveLeaderboard() {
      localStorage.setItem('asteroidBlasterLeaderboard', JSON.stringify(leaderboard));
    }
    
    function isHighScore(score) {
      return leaderboard.length < 10 || score > leaderboard[leaderboard.length - 1].score;
    }
    
    function addToLeaderboard(name, score, wave) {
      const entry = {name: name.toUpperCase(), score: score, wave: wave};
      leaderboard.push(entry);
      leaderboard.sort((a, b) => b.score - a.score);
      
      if (leaderboard.length > 10) {
        leaderboard = leaderboard.slice(0, 10);
      }
      
      newScoreIndex = leaderboard.findIndex(e => e.name === entry.name && e.score === entry.score && e.wave === entry.wave);
      saveLeaderboard();
    }
    
    function showLeaderboard() {
      displayLeaderboard();
      document.getElementById('leaderboard').style.display = 'block';
    }
    
    function hideLeaderboard() {
      document.getElementById('leaderboard').style.display = 'none';
    }
    
    function displayLeaderboard() {
      const listElement = document.getElementById('leaderboardList');
      listElement.innerHTML = '';
      
      if (leaderboard.length === 0) {
        listElement.innerHTML = '<p>No scores yet!</p>';
        return;
      }
      
      leaderboard.forEach((entry, index) => {
        const entryDiv = document.createElement('div');
        entryDiv.className = 'leaderboard-entry';
        if (index === newScoreIndex) {
          entryDiv.classList.add('new-score');
        }
        
        const rank = index + 1;
        let medal = '';
        if (rank === 1) medal = '🥇';
        else if (rank === 2) medal = '🥈';
        else if (rank === 3) medal = '🥉';
        else medal = `${rank}.`;
        
        entryDiv.innerHTML = `
          <span>${medal} ${entry.name}</span>
          <span>Wave ${entry.wave} - ${entry.score.toLocaleString()} pts</span>
        `;
        
        listElement.appendChild(entryDiv);
      });
    }
    
    function submitScore() {
      const name = document.getElementById('playerName').value.trim();
      if (!name) {
        alert('Please enter your name!');
        return;
      }
      
      addToLeaderboard(name, score, wave);
      document.getElementById('highScoreInput').style.display = 'none';
      showLeaderboard();
    }
    
    // Initialize
    loadLeaderboard();
    initGame();
    draw();
  </script>
</body>
</html>
